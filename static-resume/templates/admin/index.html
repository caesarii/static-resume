<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>简历管理主页</title>
    <link rel="stylesheet" href="/static/layui/css/layui.css">
    <link rel="stylesheet" href="/static/css/admin-index.css">

</head>
<body>

<div class="container">
    <header class="header">
        <div class="header-inner">
            <div class="header-logo"></div>
            <div class="header-title">简历管理系统</div>
        </div>
    </header>
    <main class="main">
        <div class="main-inner">
            <div class="tool-bar">

                <form action="" class="layui-form">
                    <button class="layui-btn staff-btn" >添加应聘者</button>
                    <!--搜索框-->
                    <input type="text" name="title" required lay-verify="" placeholder="搜索" autocomplete="off" class="layui-input tool-item-search fr">

                    <!--所有状态-->
                    <div class="tool-item fr">
                        <select name="city" lay-verify="">
                            <option value="">所有状态</option>
                            <option value="010">已经邀请</option>
                            <option value="021">没有邀请</option>
                            <option value="0571">已面试</option>
                        </select>
                    </div>

                    <!--结束时间-->
                    <input type="text" class="layui-input tool-item fr" id="id-end-time" placeholder="面试结束时间">

                    <!--开始时间-->
                    <input type="text" class="layui-input tool-item fr" id="id-start-time" placeholder="面试开始时间">

                    <!--表格导出-->
                    <div style="margin-top: 10px;">
                        <button class="layui-btn fr">导出</button>
                    </div>

                </form>
            </div>

            <!--表格-->
            <div class="info-chart">

                <table class="layui-table" lay-data="{ id:'test', url: '/static/data.json'}" lay-filter="test">
                    <thead>
                    <tr>
                        <th lay-data="{field:'id', width:120}">编号</th>
                        <th lay-data="{field:'username', width:120}">姓名</th>
                        <th lay-data="{field:'phone', width:120}">手机号</th>
                        <th lay-data="{field:'email', width:120}">邮箱</th>
                        <th lay-data="{field:'position', width:120}">应聘职位</th>
                        <th lay-data="{field:'time', width:120, sort: true}">面试时间</th>
                        <th lay-data="{field:'state', width:120}">状态</th>
                        <th lay-data="{field:'operate_time', width:120, sort: true}">操作时间</th>
                        <th lay-data="{field: 'operation', fixed: 'right', width:220,toolbar: '#toolbar'}">操作</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
    </main>

    <!--弹窗-->
    <div class="modal">
        <!--添加应聘者-->
        <div class="staff-modal hide" >
            <form class="layui-form" action="">
                <div class="layui-form-item">
                    <label class="layui-form-label left">姓名</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label left">手机号</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label left">邮箱</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label left">应聘职位</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-input-block">
                        <button class="layui-btn" lay-submit lay-filter="formDemo">保存</button>
                    </div>
                </div>

            </form>

        </div>

        <!--邀约-->
        <div class="invite-modal hide">
            <form class="layui-form" action="">
                <div class="layui-form-item">
                    <input type="text" class="layui-input" id="id-invite-time" placeholder="选择时间">

                </div>
                <div class="layui-form-item" style="text-align: center;">
                    <button class="layui-btn">发送短信</button>
                    <button class="layui-btn">发送邮件</button>
                    <a href="" class="layui-btn layui-btn-primary">编辑邮件模板</a>
                </div>


            </form>
        </div>

        <!--应聘者详情-->
        <div class="detail-modal hide">
            <form class="layui-form" action="">

                <div class="layui-form-item">
                    <label class="layui-form-label left">姓名</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label left">手机号</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label left">邮箱</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label left">应聘职位</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label left">历史邀约记录</label>
                    <label class="layui-form-label left">面试时间</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item">
                    <a href="" class="layui-btn layui-btn-primary">下载简历附件</a>
                </div>



            </form>
        </div>

    </div>
</div>
<script type="text/html" id="toolbar">
    <a class="layui-btn layui-btn-primary layui-btn-mini" lay-event="invite">邀约</a>
    <a class="layui-btn layui-btn-primary layui-btn-mini" lay-event="download">下载</a>
    <a class="layui-btn layui-btn-primary layui-btn-mini" lay-event="print">打印</a>
    <a class="layui-btn layui-btn-primary layui-btn-mini" lay-event="detail">详情</a>

</script>

<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
<script src="/static/layui/layui.js"></script>
<script>
    // 表单
    layui.use('form', function(){
        var form = layui.form;
    });

    // 添加应聘者
    var staffAddBtn = $('.staff-btn')
    // 默认隐藏
    var staffBox = $('.staff-modal')
    staffAddBtn.on('click', function(e) {
        // 显示
        staffBox.attr('display','block')
        layer.open({
            type: 1,
            content: staffBox,
            title: '添加应聘者',
            area: "450px"
        });
    })

    // 开始时间
    layui.use('laydate', function(){
        var laydate = layui.laydate;

        //执行一个laydate实例
        laydate.render({
            elem: '#id-start-time' //指定元素
        });
    });

    // 结束时间
    layui.use('laydate', function(){
        var laydate = layui.laydate;

        //执行一个laydate实例
        laydate.render({
            elem: '#id-end-time', //指定元素
            loading: true,
        });

        //执行一个laydate实例
        laydate.render({
            elem: '#id-invite-time', //指定元素
            loading: true,
        });
    });

    // 面试时间
    layui.use('laydate', function(){
        var laydate = layui.laydate;
        laydate.render({
            elem: '#id-invite-time', //指定元素
            loading: true,
        });
    });

    // 表格
    layui.use('table', function(){
        var table = layui.table;

        // 邀约
        table.on('tool(test)', function(obj) {
            var data = obj.data
            var layEvent = obj.event
            if(layEvent === 'invite') {
                console.log('invite')
                // 弹窗
                var inviteModal = $('.invite-modal')
                inviteModal.attr('display','block')
                layer.open({
                    type: 1,
                    content: inviteModal,
                    title: '请输入面试时间',
                    area: "450px"
                });

            } else if(layEvent === 'download') {
                console.log('download')

            } else if(layEvent === 'print') {
                console.log('print')

            } else if(layEvent === 'detail') {
                console.log('detail')
                // 弹窗
                var detailModal = $('.detail-modal')
                detailModal.attr('display','block')
                layer.open({
                    type: 1,
                    content: detailModal,
                    title: '应聘者详情',
                    area: "450px"
                });
            }

        })

    });




</script>

</body>
</html>